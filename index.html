<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="index.css" rel="stylesheet">
</head>

<body>
    <div class="head">
        <img src="" alt="">
        <img src="" alt="">
    </div>
    <div class="main">
        <div class="step1" id="step1">
            <h1>Step 1</h1>
            <h2>Watch Video</h2>
            <p>Watch a short video until end.</p>
            <button onclick="return LoadVideo()">Video</button>
        </div>
        <div class="step2" id="step2">
            <h1>Step 2</h1>
            <h2>Connect to Wi-Fi</h2>
            <p>Tap/Press "Connect" button after the video to connect.</p>
            <button id="Button1" class="inactiveButton" onclick="return Login()">Connect</button>
        </div>
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <div id="wb_MediaPlayer1">
                    <iframe src="empty.mp3" type=”audio/mp3″ allow=”autoplay” id=”audio” style="display:none;"
                        muted></iframe>
                    <!-- <span class="close" onclick="return close()">&times;</span> -->
                    <video id="MediaPlayer1" controls preload="auto" playsinline>
                    </video>
                </div>
            </div>

        </div>
    </div>


    <script>

        var modal = document.getElementById("myModal");
        let list = [
            {
                t: 50, //time in seconds
                s: "./a/bewts.mp4", //file name
                type: "video", //file type
            }, {
                t: 32, //time in seconds
                s: "./a/dgspbe.mp4", //file name
                type: "video", //file type
            }, {
                t: 48, //time in seconds
                s: "./a/lgwsp.mp4", //file name
                type: "video", //file type
            }, {
                t: 26, //time in seconds
                s: "./a/spbe.mp4", //file name
                type: "video", //file type
            }, {
                t: 60, //time in seconds
                s: "./a/spbeg.mp4", //file name
                type: "video", //file type
            }, {
                t: 42, //time in seconds
                s: "./a/spebwt.mp4", //file name
                type: "video", //file type
            }
        ];
        let video = document.querySelector("video");

        function Login() {
            window.alert("test done");
        }
        function close() {
            modal.style.display = "none";
        }
        function LoadVideo() {
            modal.style.display = "block";
            let index = Math.floor(Math.random() * (list.length - 1));
            loadVideo(index);
        }
        function loadVideo(i) {
            if (list[i].type == "video") {
                let t = list[i].t * 1000;
                //Disable modal
                setTimeout(e => {
                    modal.style.display = "none";
                }, t);
                video.src = list[i].s;
                video.onended = (e) => {
                    // document.querySelector("#Button1").classList.add('Button1');
                    document.querySelector("#Button1").classList.toggle('inactiveButton');
                    videoWatched = true;
                    modal.style.display = "none";
                }
                video.oncanplaythrough = (e) => { video.play(); };
            }
        }
    </script>
</body>

</html>